<div class="bg-gray">
    <div class="w-100    min-height">
        

                <div class="container">
                    <ul class="breadcrumb">
                         <i class="fal fa-home"></i>  <a href="./main">Dashboard</a> / <a href="./orders/action/imei/status/all"> IMEI Orders</a> /                          </ul>
                </div>


            <div class="container">
                <h2 class="page-title">
                     IMEI Orders
                </h2>
            </div>
        
        <div>


<script type="text/javascript">
    $(function() {
        var nowTemp = new Date();
        var now = new Date(nowTemp.getFullYear(), nowTemp.getMonth(), nowTemp.getDate(), 0, 0, 0, 0);
        $('#from,#to').datepicker({ format: 'yyyy-mm-dd'}).on('changeDate', function(e){
            $(this).datepicker('hide');
        });
    });
</script>


<!-- Modal -->
<div class="modal hide fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
<div class="modal-dialog modal-dialog-centered modal-sm">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title">Search IMEI Order </h5>
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span>×</span> </button>
        </div>
        <div class="modal-body">
            <form method="post" name="filterorderimei" id="filterorderimei" action="./orders/action/imei/status/all">
                <div class="form-row  input-daterange">

                    <div class="form-group  col-lg-12">
                        <input type="text" autocomplete="off" data-date-format="yyyy-mm-dd" name="from" placeholder="From Date" id="from" class="form-control ">
                    </div>
                    <div class="form-group   col-lg-12">
                        <input type="text" name="to" autocomplete="off" id="to" data-date-format="yyyy-mm-dd" placeholder="to Date " class="form-control ">
                    </div>
                </div>
                                        <textarea class="form-control" name="searchvalue" placeholder="Search IMEI"></textarea>
                                    <div class="mt-3">
                    <input type="submit" class="btn btn-success w-100" value="Search" name="searchbulk">
                </div>
            </form>

        </div>
    </div>
</div>
</div>



<div id="modalverification" class="modal hide fade" tabindex="-1">
<div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title">Verify Order details</h5>
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span>×</span> </button>
        </div>
        <div class="modal-body"> </div>
    </div>
</div>
</div>

<div id="modalverificationbulk" class="modal hide fade" tabindex="-1">
<div class="modal-dialog">
    <form class="modal-content" method="post">
        <div class="modal-header">
            <h5 class="modal-title">  Verify Order  Reason </h5>
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span>×</span> </button>
        </div>
        <div class="modal-body">
            <input type="hidden" name="bulkids" id="buld-ids">
            <textarea placeholder="Reason" name="verifyreason" class="form-control"></textarea>
        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-primary" value="Submit">Submit</button>
        </div>
    </form>
</div>
</div>


<div class="container history-container"><div class="page-container">

<div class="card card-table-history">

<div class="d-flex justify-content-end imei-title">

    <div>

        <a class="btn btn-light p-2 mb-2" id="buldverify" style="display: none" data-toggle="modal" data-target="#modalverificationbulk"> Bulk Verify  </a>

        <a data-toggle="modal" data-target="#myModal" style="font-style:normal" class="btn btn-light mb-2 p-2" href="#"> <i class="fal fa-search"></i> Search </a>


        <div class="btn-group">

            <a href="javascript:void(0)" class="btn  btn-light p-2 mb-2 dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fal fa-file-excel"></i> Export
            </a>
            <ul class="dropdown-menu  dropdown-menu-right    p-3">
                <li>
                    <span class="nav-link no-wrap cursor-pointer">
                        <a href="./downloadfiles/action/exports/type/1/id/1/status/all">
                            Export as view
                        </a>
                    </span>
                </li>
                <li>
                    <a class="nav-link no-wrap" data-toggle="modal" data-target="#modal-ajax" data-whatever="Export IMEI Order" data-size="modal-md" href="./export/service/1/type/1/serverservice/0?standalone=true">
                        Advance Export
                    </a>
                </li>
            </ul>
        </div>



        <div class="btn-group">
            <a href="javascript:void(0)" class="btn  btn-light p-2 mb-2 dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fal fa-eye"></i> View
            </a>
            <ul class="dropdown-menu   dropdown-menu-right    p-3">
                <h6 class="text-muted text-uppercase mb-4 bottom-space">Column</h6>

                <div class="custom-control custom-checkbox">
                    <input type="checkbox" value="1" data-name="orderid" id="corderid" class="viewcolumn custom-control-input" checked="checked">
                    <label class="custom-control-label" for="corderid">Order ID </label>
                </div>

                <div class="custom-control custom-checkbox">
                    <input type="checkbox" value="1" data-name="credit" id="dcredit" class="viewcolumn custom-control-input" checked="checked">
                    <label class="custom-control-label" for="dcredit">Credit </label>
                </div>

                <div class="custom-control custom-checkbox">
                    <input type="checkbox" value="1" data-name="date" id="cdate" class="viewcolumn custom-control-input" checked="checked">
                    <label class="custom-control-label" for="cdate">Submited On </label>
                </div>

                <div class="custom-control custom-checkbox">
                    <input type="checkbox" value="1" data-name="action" id="caction" class="viewcolumn custom-control-input" checked="checked">
                    <label class="custom-control-label" for="caction">Action </label>
                </div>

            </ul>
        </div>

    </div>
</div>
<div>                     <form method="get" id="filterorderimei2" action="./orders/action/imei">
            <input type="hidden" name="serviceid" id="serviceids" value="">
            <input type="hidden" name="status" id="status" value="all">
            <input type="hidden" name="searchvalue" id="searchvalue" value="">
            <input type="hidden" name="token" id="token" value="6201f696232e07c0d7e061012fd5ce5ba23c0b30">
        </form>
    

        <div class="table-responsive  position-relative table-order-history">

            <table class="table table-striped table-hover table-excel tcs" id="tcs-table">
                <thead class="bg-white w-100">
                <tr>

                    <th class="col-orderid tcs-ignore" style=""><div>#ID</div> </th>
                    <th> <div>
                            <select name="status2" class="form-control  chosen " id="status2" onchange="setSubmitstatus(this);" style="display: none;">
                                <option value="all" selected="selected">All</option>
                                <option value="available">Available</option>
                                <option value="rejected">Rejected</option>
                                <option value="pending">Pending</option>
                            </select><div class="chosen-container chosen-container-single" title="" id="status2_chosen" style="width: 175px;"><a class="chosen-single">
<input class="chosen-focus-input" type="text" autocomplete="off">
<span>All</span>
<div><b></b></div>
</a>
<div class="chosen-drop">
<div class="chosen-search">
<input class="chosen-search-input" type="text" autocomplete="off">
</div>
<ul class="chosen-results"></ul>
</div></div>
                        </div></th>
                    <th> <div>
                            <select name="serviceid" id="service_id" class="form-control " onchange="setSubmitservice(this);" style="display: none;">
                                <option value="">All</option>
                                
                            </select><div class="chosen-container chosen-container-single" title="" id="service_id_chosen" style="width: 111px;"><a class="chosen-single">
<input class="chosen-focus-input" type="text" autocomplete="off">
<span>All</span>
<div><b></b></div>
</a>
<div class="chosen-drop">
<div class="chosen-search">
<input class="chosen-search-input" type="text" autocomplete="off">
</div>
<ul class="chosen-results"></ul>
</div></div>
                        </div></th>
                    <th class="col-credit" style=""><div> Credit</div> </th>
                    <th class="col-date" style=""><div> Submited&nbsp;On</div> </th>

                    <th class="text-center">
                                                        IMEI
                                                </th>
                                            <th> <div> Code </div></th>
                                                <th class="col-action text-center" style=""><div>Action</div></th>
                    
                </tr>
                </thead>
                <tbody>

                
                    <tr>
                        <td colspan="8" class="text-center"><div>No Records Found</div></td>
                    </tr>
                
                </tbody>

            </table>
        </div>
    
                        <div class="justify-content-between d-flex w-100 pagging">
                <div class="pagination">  </div>
                <div style="width: 250px" class="mt-4">
                    <select name="autorefresh" id="autorefresh" class="form-control no-chosen" onchange="javascript: setCookies(this.value);" selected="selected" fdprocessedid="r6i7a">
                        <option value="">Auto Refresh Disabled </option>
                        <option value="1">1 Minutes</option>
                        <option value="5">5 Minutes</option>
                        <option value="10">10 Minutes</option>
                        <option value="30">30 Minutes</option>
                        <option value="60">1 </option>
                    </select>
                </div>

            </div>
        

    
</div>

</div>

</div></div>



<script>


    function detectMob() {
        return window.innerWidth <= 800;
    }

    if(!detectMob()) {
        var table = document.getElementById("tcs-table");
        var options = {
            deselectOutTableClick: false,
            enableChanging: true,
            selectIgnoreClass: false,
            ignoreThead: true
        };
        var buffer = new TableCellSelector.Buffer();
        var tcs = new TableCellSelector(table, options, buffer);
        tcs.onStartSelect = function (event, cell) {
            console.log('select cell');
        };
        tcs.enableHotkeys = true;
    }


    $(document).on("keydown", function(e){
        if (e.keyCode == 67 && (e.ctrlKey || e.metaKey)){
            console.log('copy');
            tcs.copy()
        }
    });


    $(document).ready(function(){
        var co=getCookie("UserAuto");
        $("#autorefresh").val( co ).attr('selected',true);
        if(co){
            setTimeout(function() {
                location.href='./orders/action/imei/status/all';
            }, 60000*co);
        }

        /*$('.input-daterange input[type="text"]').each(function() {
            $(this).datepicker({format: 'yyyy-mm-dd'}).on('changeDate', function(e){
                $(this).datepicker('hide');
            });
        });*/
        $('.viewcolumn').click(function () {

            var  json = {orderid:true,credit:true,date:true,action:true,compaq:true}

            $('.viewcolumn').each(function () {
                var column = $(this).attr('data-name');
                if($(this).is(":checked")){
                    json[column] = true;
                    $('.col-'+column).show();
                }
                else{
                    json[column] = false;
                    $('.col-'+column).hide();
                }
            });
            settheme('column',json,'./widget/save/settings/action/themesettings');
        })

        $('.verify-checkbox').click(function () {
            var flag = false;
            var ids = '';
            $('.verify-checkbox').each(function () {
                if($(this).is(":checked")){
                    flag = true;
                    ids += $(this).val()+',';
                }
            });
            if(flag){
                $('#buldverify').show();
                $('#buld-ids').val(ids);
            }
            else{
                $('#buldverify').hide();
            }
        })

        $('.viewtable').click(function () {
            if($(this).is(":checked")) {
                $('.table').addClass('compaq');
            }
            else{
                $('.table').removeClass('compaq');
            }
        })

        //$('.table-excel').tableCellsSelection();

    });


    function setSubmitservice(obn){
        var ss=obn.options[obn.selectedIndex].value;
        document.getElementById('serviceids').value=ss;
        document.getElementById('filterorderimei2').submit();
    }
    function setSubmitstatus(obn){
        var ss=obn.options[obn.selectedIndex].value;
        document.getElementById('status').value=ss;
        document.getElementById('filterorderimei2').submit();
    }




</script>




<div class="text-center">

</div>


</div>
</div>
</div>